{"ast":null,"code":"// api.js\n\nimport axios from 'axios';\nimport { JSDOM } from 'jsdom';\n\n// Hàm để fetch nội dung bài báo từ URL\nexport const fetchArticleContent = async articleUrl => {\n  try {\n    var _document$querySelect;\n    const response = await axios.get(`http://localhost:4000/api/article?url=${encodeURIComponent(articleUrl)}`);\n    const html = response.data.body; // Lấy nội dung HTML từ response\n\n    // Sử dụng JSDOM để parse HTML\n    const dom = new JSDOM(html);\n    const document = dom.window.document;\n    const title = ((_document$querySelect = document.querySelector('h1')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.textContent) || '';\n    const body = document.body.innerHTML;\n    return {\n      title,\n      body\n    };\n  } catch (err) {\n    console.error('Error fetching article content:', err);\n    throw new Error('Error fetching article content');\n  }\n};","map":{"version":3,"names":["axios","JSDOM","fetchArticleContent","articleUrl","_document$querySelect","response","get","encodeURIComponent","html","data","body","dom","document","window","title","querySelector","textContent","innerHTML","err","console","error","Error"],"sources":["E:/Tailieu/Nam3/FrondEnd/AppDocBao/news-reading-web/rss-feed/src/components/api/api.js"],"sourcesContent":["// api.js\r\n\r\nimport axios from 'axios';\r\nimport { JSDOM } from 'jsdom';\r\n\r\n// Hàm để fetch nội dung bài báo từ URL\r\nexport const fetchArticleContent = async (articleUrl) => {\r\n  try {\r\n    const response = await axios.get(`http://localhost:4000/api/article?url=${encodeURIComponent(articleUrl)}`);\r\n    const html = response.data.body; // Lấy nội dung HTML từ response\r\n    \r\n    // Sử dụng JSDOM để parse HTML\r\n    const dom = new JSDOM(html);\r\n    const document = dom.window.document;\r\n    const title = document.querySelector('h1')?.textContent || '';\r\n    const body = document.body.innerHTML;\r\n    \r\n    return { title, body };\r\n  } catch (err) {\r\n    console.error('Error fetching article content:', err);\r\n    throw new Error('Error fetching article content');\r\n  }\r\n};\r\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,OAAO;;AAE7B;AACA,OAAO,MAAMC,mBAAmB,GAAG,MAAOC,UAAU,IAAK;EACvD,IAAI;IAAA,IAAAC,qBAAA;IACF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAG,CAAC,yCAAyCC,kBAAkB,CAACJ,UAAU,CAAC,EAAE,CAAC;IAC3G,MAAMK,IAAI,GAAGH,QAAQ,CAACI,IAAI,CAACC,IAAI,CAAC,CAAC;;IAEjC;IACA,MAAMC,GAAG,GAAG,IAAIV,KAAK,CAACO,IAAI,CAAC;IAC3B,MAAMI,QAAQ,GAAGD,GAAG,CAACE,MAAM,CAACD,QAAQ;IACpC,MAAME,KAAK,GAAG,EAAAV,qBAAA,GAAAQ,QAAQ,CAACG,aAAa,CAAC,IAAI,CAAC,cAAAX,qBAAA,uBAA5BA,qBAAA,CAA8BY,WAAW,KAAI,EAAE;IAC7D,MAAMN,IAAI,GAAGE,QAAQ,CAACF,IAAI,CAACO,SAAS;IAEpC,OAAO;MAAEH,KAAK;MAAEJ;IAAK,CAAC;EACxB,CAAC,CAAC,OAAOQ,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEF,GAAG,CAAC;IACrD,MAAM,IAAIG,KAAK,CAAC,gCAAgC,CAAC;EACnD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}